---
title: "3. 清除QUIC位"
anchor: "3.1_Clearing_the_QUIC_Bit"
weight: 310
rank: "h2"
---

Endpoints that receive the grease_quic_bit transport parameter from a peer SHOULD set the QUIC Bit to an unpredictable value unless another extension assigns specific meaning to the value of the bit.

从对端接收到传输参数`grease_quic_bit`的终端{{< req_level SHOULD >}}将QUIC位设置为不可预测的值，除非另一个扩展为该比特位的值指定了特定的含义。

Endpoints can set the QUIC Bit to 0 on all packets that are sent after receiving and processing transport parameters. This could include Initial, Handshake, and Retry packets.

终端可以将所有在接收并处理完传输参数后发送的数据包的QUIC位设置为`0`。
其中可能包括初始数据包、握手数据包和重试数据包。

A client MAY also set the QUIC Bit to 0 in Initial, Handshake, or 0-RTT packets that are sent prior to receiving transport parameters from the server. However, a client MUST NOT set the QUIC Bit to 0 unless the Initial packets it sends include a token provided by the server in a NEW_TOKEN frame (Section 19.7 of [QUIC]), received less than 604800 seconds (7 days) prior on a connection where the server also included the grease_quic_bit transport parameter.

客户端还{{< req_level MAY >}}在从服务器接收到传输参数前就将发送出去的初始数据包、握手数据包或0-RTT数据包的QUIC位设置为`0`。
不过，只有在客户端发送的初始数据包中包含了服务器在**新令牌帧**（详见《[QUIC]()》的[第19.7章]()）中提供的令牌，且这个帧是在过去604800秒（7天）内，在一条服务器使用了传输参数`grease_quic_bit`的连接上接收到的时，它才可以这么做。

This 7-day limit allows for changes in server configuration. If server configuration changes and a client does not set the QUIC Bit, then it is possible that a server will drop packets, resulting in connection failures.

这个7天的时限容许服务器的配置发生变化。
如果服务器改变了配置且客户端没有设置QUIC位，那么服务器有可能丢弃数据包，使得连接失败。

A server MUST set the QUIC Bit to 0 only after processing transport parameters from a client. A server MUST NOT remember that a client negotiated the extension in a previous connection and set the QUIC Bit to 0 based on that information.

服务器{{< req_level MUST >}}仅在处理完来自客户端的传输参数后再将QUIC位设置为`0`。
服务器{{< req_level MUST_NOT >}}记忆客户端在先前的连接中协商的扩展，或基于该信息来将QUIC位设置为`0`。

An endpoint MUST NOT set the QUIC Bit to 0 without knowing whether the peer supports the extension. As Stateless Reset packets (Section 10.3 of [QUIC]) are only used after a loss of connection state, endpoints are unlikely to be able to set the QUIC Bit to 0 on Stateless Reset packets.

终端在不了解对端是否支持本扩展的情况下{{< req_level MUST_NOT >}}将QUIC位设置为`0`。
由于无状态重置数据包（详见《[QUIC]()》的[第10.3章]()）仅会在连接状态丢失后才被使用，所以终端不太可能在无状态重置数据包中将QUIC位设置为`0`。
